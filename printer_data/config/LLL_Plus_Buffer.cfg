[mcu LLL]
serial: /dev/serial/by-id/usb-Klipper_stm32f072xb_2D0035000C57464334353720-if00

[filament_switch_sensor Runout Detection]
pause_on_runout: true
switch_pin: LLL:PB5
runout_gcode:
        PAUSE
        M118 Out of Filament
insert_gcode:
        M118 Filament Loaded


[gcode_button Feed]
pin:LLL:PB12
press_gcode:
   _feed

[gcode_button Retract]
pin:LLL:PB13
press_gcode:
   _Material_return

[gcode_macro _feed]
description: feed
variable_clean_temp: 210       ; Extrusion Temperature (℃)
gcode:
    RESPOND TYPE=echo MSG="The hotend will heat up to {clean_temp} degrees"
    M109 S{clean_temp} ; Set extrusion temperature
    M83 ; Relative extrusion mode
    G92 E0 ; Reset extrusion position
    G1 E50 F600 ; Extrusion distance
    RESPOND TYPE=echo MSG="Extrusion complete"

[gcode_macro _Material_return]
description: Material Return
variable_clean_temp: 210       ; Extrusion Temperature (℃)
variable_cool_temp: 0        ; Final Temperature (℃)
gcode:
    RESPOND TYPE=echo MSG="The hotend will heat up to {clean_temp} degrees"
    M109 S{clean_temp} ; Set extrusion temperature
    M83 ; Relative extrusion mode
    G92 E0 ; Reset extrusion position
    G1 E-50 F600 ; Extrusion distance
    M109 S{cool_temp}
    RESPOND TYPE=echo MSG="The hotend will turn off"
    RESPOND TYPE=echo MSG="Extrusion complete"

